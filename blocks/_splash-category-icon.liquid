{% comment %}
  Category Icon Theme Block
  Used for category navigation icons
{% endcomment %}

<div class="splash-category-icon" {{ block.shopify_attributes }}>
  <a href="{{ block.settings.link | default: '#' }}" class="splash-category-icon__link">
    <div class="splash-category-icon__image">
      {% if block.settings.icon_image != blank %}
        {{ block.settings.icon_image | image_url: width: 120 | image_tag: loading: 'lazy', alt: block.settings.category_name }}
      {% else %}
        <div class="splash-category-icon__placeholder">
          {% case block.settings.icon_type %}
            {% when 'limited' %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                <path d="M9 12l2 2 4-4"/>
              </svg>
            {% when 'new' %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                <line x1="9" y1="9" x2="9.01" y2="9"/>
                <line x1="15" y1="9" x2="15.01" y2="9"/>
              </svg>
            {% when 'picks' %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
              </svg>
            {% when 'sellers' %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 11H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-4"/>
                <path d="M9 7v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1z"/>
              </svg>
            {% when 'splurge' %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 3h12l4 6-10 13L2 9l4-6z"/>
              </svg>
            {% else %}
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
          {% endcase %}
        </div>
      {% endif %}
    </div>

    <div class="splash-category-icon__text">
      <span class="splash-category-icon__name">{{ block.settings.category_name }}</span>
      {% if block.settings.subtitle != blank %}
        <span class="splash-category-icon__subtitle">{{ block.settings.subtitle }}</span>
      {% endif %}
    </div>
  </a>
</div>

{% schema %}
{
  "name": "Category Icon",
  "settings": [
    {
      "type": "text",
      "id": "category_name",
      "label": "Category Name",
      "default": "Category"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle (Optional)"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Category Link"
    },
    {
      "type": "image_picker",
      "id": "icon_image",
      "label": "Custom Icon Image"
    },
    {
      "type": "select",
      "id": "icon_type",
      "label": "Default Icon Type",
      "info": "Used when no custom image is uploaded",
      "options": [
        {
          "value": "limited",
          "label": "Limited Release"
        },
        {
          "value": "new",
          "label": "New Arrivals"
        },
        {
          "value": "picks",
          "label": "Rob's Picks"
        },
        {
          "value": "sellers",
          "label": "Top Sellers"
        },
        {
          "value": "splurge",
          "label": "Splurge-Worthy"
        },
        {
          "value": "default",
          "label": "Default"
        }
      ],
      "default": "default"
    }
  ]
}
{% endschema %}