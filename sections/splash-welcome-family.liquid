{{ 'splash-welcome-family.css' | asset_url | stylesheet_tag }}

<section class="splash-welcome-family">
  {% for block in section.blocks %}
    {% case block.type %}
      {% when 'background_media' %}
        {% if block.settings.background_image != blank %}
          <div class="splash-welcome-family__background" {{ block.shopify_attributes }}>
            {{ block.settings.background_image | image_url: width: 1920 | image_tag: loading: 'lazy', alt: 'Splash family background' }}
          </div>
        {% endif %}

        {% if block.settings.show_overlay %}
          <div class="splash-welcome-family__overlay"></div>
        {% endif %}
    {% endcase %}
  {% endfor %}

  <div class="splash-welcome-family__container">
    <div class="splash-welcome-family__content">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'title' %}
            <h2 class="splash-welcome-family__title" {{ block.shopify_attributes }}>
              {{ block.settings.title }}
            </h2>

          {% when 'subtitle' %}
            <p class="splash-welcome-family__subtitle" {{ block.shopify_attributes }}>
              {{ block.settings.subtitle }}
            </p>

          {% when 'description' %}
            <p class="splash-welcome-family__description" {{ block.shopify_attributes }}>
              {{ block.settings.description }}
            </p>

          {% when 'cta_button' %}
            {% if block.settings.button_link != blank %}
              <a href="{{ block.settings.button_link }}" class="splash-welcome-family__button" {{ block.shopify_attributes }}>
                {{ block.settings.button_text }}
              </a>
            {% endif %}
        {% endcase %}
      {% endfor %}
    </div>

    {% assign feature_blocks = section.blocks | where: 'type', 'feature_item' %}
    {% if feature_blocks.size > 0 %}
      <div class="splash-welcome-family__features">
        {% for feature_block in feature_blocks %}
          <div class="splash-welcome-family__feature" {{ feature_block.shopify_attributes }}>
            <div class="splash-welcome-family__feature-icon">
              {% if feature_block.settings.custom_icon != blank %}
                {{ feature_block.settings.custom_icon | image_url: width: 28 | image_tag: alt: feature_block.settings.title }}
              {% else %}
                {% case feature_block.settings.icon_type %}
                  {% when 'price' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                  {% when 'shipping' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="1" y="3" width="15" height="13"/>
                      <polygon points="16,8 20,8 23,11 23,16 16,16 16,8"/>
                      <circle cx="5.5" cy="18.5" r="2.5"/>
                      <circle cx="18.5" cy="18.5" r="2.5"/>
                    </svg>
                  {% when 'guarantee' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                      <path d="M9 12l2 2 4-4"/>
                    </svg>
                  {% when 'no-strings' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20 6 9 17l-5-5"/>
                    </svg>
                  {% else %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                      <line x1="9" y1="9" x2="9.01" y2="9"/>
                      <line x1="15" y1="9" x2="15.01" y2="9"/>
                    </svg>
                {% endcase %}
              {% endif %}
            </div>

            <h3 class="splash-welcome-family__feature-title">{{ feature_block.settings.title }}</h3>
            <p class="splash-welcome-family__feature-description">{{ feature_block.settings.description }}</p>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Splash Welcome to Family",
  "tag": "section",
  "class": "section",
  "settings": [],
  "blocks": [
    {
      "type": "background_media",
      "name": "Background Media",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "Background Image"
        },
        {
          "type": "checkbox",
          "id": "show_overlay",
          "label": "Show Overlay",
          "default": true
        }
      ]
    },
    {
      "type": "title",
      "name": "Title",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Welcome to the Family"
        }
      ]
    },
    {
      "type": "subtitle",
      "name": "Subtitle",
      "limit": 1,
      "settings": [
        {
          "type": "textarea",
          "id": "subtitle",
          "label": "Subtitle",
          "default": "Three generations of wine passion"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1,
      "settings": [
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "For three generations, our family has been passionate about bringing you the finest wines at unbeatable prices. Join our family of wine lovers today."
        }
      ]
    },
    {
      "type": "cta_button",
      "name": "CTA Button",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "More About Splash"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    },
    {
      "type": "feature_item",
      "name": "Feature Item",
      "limit": 6,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Unbeatable Prices"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Best prices guaranteed on premium wines"
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            {
              "value": "price",
              "label": "Unbeatable Prices"
            },
            {
              "value": "shipping",
              "label": "Fast & Easy Shipping"
            },
            {
              "value": "guarantee",
              "label": "Gotta Love-It Guarantee"
            },
            {
              "value": "no-strings",
              "label": "No Strings Attached"
            },
            {
              "value": "default",
              "label": "Default"
            }
          ],
          "default": "price"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Custom Icon (Optional)",
          "info": "Upload a custom icon to override the default"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Splash Welcome to Family",
      "blocks": [
        {
          "type": "background_media"
        },
        {
          "type": "title"
        },
        {
          "type": "subtitle"
        },
        {
          "type": "description"
        },
        {
          "type": "cta_button"
        },
        {
          "type": "feature_item",
          "settings": {
            "title": "Unbeatable Prices",
            "description": "Best prices guaranteed on premium wines",
            "icon_type": "price"
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "title": "Fast & Easy Shipping",
            "description": "Quick delivery right to your door",
            "icon_type": "shipping"
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "title": "Gotta Love-It Guarantee",
            "description": "100% satisfaction guaranteed",
            "icon_type": "guarantee"
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "title": "No Strings Attached",
            "description": "Cancel anytime, no commitments",
            "icon_type": "no-strings"
          }
        }
      ]
    }
  ]
}
{% endschema %}